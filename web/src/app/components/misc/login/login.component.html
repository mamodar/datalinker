<div class="main">
  <div *ngIf="!stateService.getLoggedInUser().getValue() || !stateService.getLoggedInUser().getValue().userName">
    <mat-list>
      <mat-list-item>
        <mat-form-field>
          <mat-label>Benutzername</mat-label>
          <input matInput type="text" [(ngModel)]="login" [required]>
        </mat-form-field>
      </mat-list-item>
      <mat-list-item>
        <mat-form-field>
          <mat-label>Passwort</mat-label>
          <input matInput type="password" [(ngModel)]="password" [required]>
        </mat-form-field>
      </mat-list-item>
      <mat-list-item>
        <p class="mat-error" *ngIf="!passwordCorrect"> Passwort oder Benutzername nicht korrekt!</p>
        <button mat-raised-button color="primary"
                (click)="loginClick()"
                [disabled]="!password?.length||!login?.length">Einloggen
        </button>
      </mat-list-item>
    </mat-list>
  </div>

  <div
    *ngIf="(stateService.getLoggedInUser().getValue()!==null) && (stateService.getLoggedInUser().getValue().userName !== null)">
    <mat-list>
      <mat-list-item>Benutzername: {{stateService.getLoggedInUser().getValue().userName}}  </mat-list-item>
      <mat-list-item>
        <button mat-raised-button color="warn"
                (click)="logoutClick()">Ausloggen
        </button>
      </mat-list-item>
    </mat-list>

  </div>

  <mat-spinner *ngIf="this.showSpinner"></mat-spinner>
</div>
